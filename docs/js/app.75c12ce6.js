(function(e){function t(t){for(var n,i,s=t[0],c=t[1],l=t[2],u=0,p=[];u<s.length;u++)i=s[u],r[i]&&p.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(p.length)p.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,s=1;s<a.length;s++){var c=a[s];0!==r[c]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},o=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],i=a("2877"),s={},c=Object(i["a"])(s,r,o,!1,null,null,null),l=c.exports,d=a("8c4f"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{attrs:{view:"lHh Lpr lFf"}},[a("q-header",{staticClass:"basic",attrs:{elevated:""}},[a("q-toolbar",[a("q-btn",{attrs:{flat:"",dense:"",round:"","aria-label":"Menu",icon:"menu"},on:{click:function(t){e.leftDrawerOpen=!e.leftDrawerOpen}}}),a("q-toolbar-title",[e._v("\n        Doggy PWA\n      ")]),a("div",[e._v("Quasar v"+e._s(e.$q.version))])],1)],1),a("q-drawer",{attrs:{bordered:"","content-class":"bg-grey-2"},model:{value:e.leftDrawerOpen,callback:function(t){e.leftDrawerOpen=t},expression:"leftDrawerOpen"}},[a("q-list",[a("q-item-label",{attrs:{header:""}},[e._v("Navigation")]),a("q-item",{attrs:{to:"/",exact:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"home"}})],1),a("q-item-section",[a("q-item-label",[e._v("Home")])],1)],1),a("q-item",{attrs:{to:"/about",exact:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"info"}})],1),a("q-item-section",[a("q-item-label",[e._v("About")])],1)],1)],1)],1),a("q-page-container",[a("router-view")],1)],1)},p=[],m={name:"LayoutDefault",data:function(){return{leftDrawerOpen:this.$q.platform.is.desktop}}},f=m,g=Object(i["a"])(f,u,p,!1,null,null,null),h=g.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{attrs:{padding:""}},[a("Camera"),a("div",{staticClass:"q-pa-md q-gutter-sm addButton"},[a("q-btn",{attrs:{push:"",color:"primary",icon:"camera_alt"},on:{click:function(t){return e.$store.dispatch("setCamereModalValue")}}}),a("q-btn",{attrs:{push:"",color:"primary",icon:"add_circle_outline"},on:{click:function(t){return e.$router.push({name:"post"})}}})],1),a("div",{staticClass:"row"},e._l(e.dogs,function(t,n){return a("div",{key:t.id,staticStyle:{padding:"5px"},on:{click:function(a){return e.$router.push({name:"details",params:{id:t.id,dogProp:e.dogs[n]}})}}},[a("q-card",{staticClass:"my-card"},[a("q-item",[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",[a("q-icon",{attrs:{name:"pets"}})],1)],1),a("q-item-section",[a("q-item-label",[e._v(e._s(t.comment))]),a("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.info))])],1)],1),a("img",{attrs:{src:t.url,height:"270"}})],1)],1)}),0)],1)},b=[],q=(a("ac6a"),a("b05d")),y=a("f09f"),w=a("6ab5"),_=a("033f"),C=a("cb32"),Q=a("e208"),k=a("2ea3"),S=a("59ca"),O=a.n(S),x=(a("e71f"),a("741f"),a("588e"),{apiKey:"AIzaSyC-x_P9Jb3VSJpMSx-E6j4dBu4DzkW8tus",authDomain:"simple-pwa-app.firebaseapp.com",databaseURL:"https://simple-pwa-app.firebaseio.com",projectId:"simple-pwa-app",storageBucket:"simple-pwa-app.appspot.com",messagingSenderId:"519093170196",appId:"1:519093170196:web:ff70fef7a04b304f"});O.a.initializeApp(x);var M=O.a.firestore();M.enablePersistence({synchronizeTabs:!0});var U=O.a.storage(),D={db:M,storage:U},P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{model:{value:e.display,callback:function(t){e.display=t},expression:"display"}},[a("q-card",[a("q-card-section",{staticClass:"row items-center"},[a("div",{staticClass:"text-h6"},[e._v("IN DEVELOPMENT")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""},on:{click:function(t){return e.$store.dispatch("setCamereModalValue")}}})],1),a("q-card-section",[a("video",{ref:"video",attrs:{id:"video",width:"100%",height:"100%",autoplay:""}})]),a("q-card-section",{staticStyle:{display:"flex","justify-content":"center"}},[a("q-btn",{attrs:{push:"",color:"primary",round:"",icon:"camera",size:"lg"}})],1)],1)],1)},j=[],$=a("24e8"),A=a("7f67"),E=a("a370"),I=a("4b7e"),L=a("2c91"),T=a("6ac0"),V=a("2f62");n["a"].use(V["a"]);var z=new V["a"].Store({state:{displayCameraModal:!1},mutations:{SET_CAMERA_MODAL_VALUE:function(e){e.displayCameraModal=!e.displayCameraModal}},actions:{setCamereModalValue:function(e){var t=e.commit;t("SET_CAMERA_MODAL_VALUE")}},getters:{displayCameraModal:function(e){return e.displayCameraModal}}}),B=function(e,t,a){var n=new Date,r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];console.log(D.db),D.collection("dogs").add({url:e,comment:t,info:"Posted by ".concat(""!=a?a:"Unknown"," on ").concat(r[n.getDay()]),created_at:(new Date).getTime()}).then(Ce.go(-1))},N={name:"DetailsPage",components:{Quasar:q["a"],QDialog:$["a"],QCard:y["a"],QCardSection:E["a"],QCardActions:I["a"],QSpace:L["a"],QVideo:T["a"]},directives:{ClosePopup:A["a"]},data:function(){return{mediaStream:null}},mounted:function(){var e=this;navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({video:!0}).then(function(t){e.mediaStream=t,e.$refs.video.srcObject=t,e.$refs.video.play()}).catch(function(e){return console.error("getUserMedia() error:",e)}):navigator.getUserMedia?navigator.getUserMedia({video:!0},function(e){this.mediaStream=e,this.$refs.video.srcObject=e,this.$refs.video.play()},errBack):navigator.webkitGetUserMedia?navigator.webkitGetUserMedia({video:!0},function(e){this.mediaStream=e,console.log(e),this.$refs.video.srcObject=window.webkitURL.createObjectURL(e),this.$refs.video.play()},errBack):navigator.mozGetUserMedia&&navigator.mozGetUserMedia({video:!0},function(e){this.mediaStream=e,this.$refs.video.srcObject=window.URL.createObjectURL(e),this.$refs.video.play()},errBack)},computed:{display:{get:function(){return z.getters.displayCameraModal},set:function(e){}}},methods:{capture:function(){var e=this,t=this.mediaStream.getVideoTracks()[0],a=new window.ImageCapture(t);return a.takePhoto().then(function(t){D.storage.ref().child("images/picture-".concat((new Date).getTime())).put(t).then(function(t){t.ref.getDownloadURL().then(function(t){console.log("File available at",t),e.$router.push({name:"post",params:{pictureUrl:t}})})}).catch(function(t){console.log(t),e.$router.go(-1)})})}},destroyed:function(){var e=this.mediaStream.getTracks();e.map(function(e){return e.stop()})}},R=N,F=Object(i["a"])(R,P,j,!1,null,null,null),G=F.exports,J={name:"PageHome",components:{Quasar:q["a"],QCard:y["a"],QItem:w["a"],QItemSection:_["a"],QAvatar:C["a"],QItemLabel:Q["a"],QPage:k["a"],Camera:G},data:function(){return{dogs:[]}},computed:{displayCameraModal:function(){return z.getters.displayCameraModal}},mounted:function(){var e=this,t=D.db.collection("dogs").orderBy("created_at","asc");t.get().then(function(t){t.forEach(function(t){e.dogs.push({id:t.id,url:t.data().url,comment:t.data().comment,info:t.data().info})})})}},H=J,W=(a("718c"),Object(i["a"])(H,v,b,!1,null,"51d2905e",null)),K=W.exports,Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{attrs:{padding:""}},[a("q-card",{staticClass:"my-card"},[a("q-card-section",[a("p",[e._v("\n        Simple App created to understand how to create and build a Progressive Web Application\n        with Vue using Firestore from Google.\n      ")]),a("p",[e._v("\n        Developed by "),a("b",[e._v("Joaquin")])])])],1)],1)},X=[],Z={name:"PageAbout",components:{Quasar:q["a"],QCard:y["a"],QCardSection:E["a"]}},ee=Z,te=Object(i["a"])(ee,Y,X,!1,null,null,null),ae=te.exports,ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{attrs:{padding:""}},[a("q-card",{},[a("div",{staticClass:"q-pa-md q-gutter-sm",attrs:{id:"card-header"}},[a("q-chip",{attrs:{icon:"plus_one",color:"teal","text-color":"white"}},[e._v("Add a New Dog")]),a("q-btn",{attrs:{push:"",color:"primary",round:"",icon:"refresh"},on:{click:e.refreshImage}})],1),null!==this.dogUrl?a("q-card",{staticClass:"my-card"},[a("q-img",{attrs:{src:e.dogUrl,"spinner-color":"white"}})],1):a("q-img",{staticStyle:{height:"140px"},attrs:{src:"https://cdn.quasar.dev/img/non-existent-image-src.png"},scopedSlots:e._u([{key:"error",fn:function(){return[a("div",{staticClass:"absolute-full flex flex-center bg-negative text-white"},[e._v("Cannot load image")])]},proxy:!0}])}),a("q-card-section",[a("q-form",{staticClass:"q-gutter-md"},[a("q-input",{attrs:{filled:"",label:"Name",hint:"Your name"},model:{value:e.author,callback:function(t){e.author=t},expression:"author"}}),a("q-input",{attrs:{filled:"",label:"Title",hint:"Dog's title"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),a("div",[a("q-btn",{attrs:{label:"POST A DOG","icon-right":"pets",type:"submit",color:"primary"},on:{click:e.post}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Reset",type:"reset",color:"primary",flat:""}})],1)],1)],1)],1)],1)},re=[],oe=a("0378"),ie=a("27f9"),se=a("068f"),ce=a("b047"),le=a("bc3a"),de=a.n(le),ue=function(e){return de.a.get(e).then(function(e){return e.data}).catch(function(e){console.log(e)})},pe={name:"PostPage",components:{Quasar:q["a"],QForm:oe["a"],QInput:ie["a"],QCard:y["a"],QCardSection:E["a"],QImg:se["a"],QChip:ce["a"]},props:{pictureUrl:{default:"",type:String}},data:function(){return{dogUrl:null,title:"",author:""}},mounted:function(){var e=this;""!==this.pictureUrl?this.dogUrl=this.pictureUrl:ue("https://dog.ceo/api/breed/appenzeller/images/random").then(function(t){t.status&&(e.dogUrl=t.message)}).catch(function(t){e.dogUrl=null})},methods:{post:function(){B(this.dogUrl,this.title,this.author)},refreshImage:function(){var e=this;ue("https://dog.ceo/api/breed/appenzeller/images/random").then(function(t){t.status&&(e.dogUrl=t.message)}).catch(function(t){e.dogUrl=null})}}},me=pe,fe=(a("67b8"),Object(i["a"])(me,ne,re,!1,null,"dbbb787e",null)),ge=fe.exports,he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{attrs:{padding:""}},[a("q-card",{staticClass:"my-card"},[a("img",{attrs:{src:e.dog.url}}),a("q-list",[e.dog.comment?a("q-item",[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"red",name:"title"}})],1),a("q-item-section",[a("q-item-label",[e._v(e._s(e.dog.comment))])],1)],1):e._e(),e.dog.info?a("q-item",[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"primary",name:"description"}})],1),a("q-item-section",[a("q-item-label",[e._v(e._s(e.dog.info))])],1)],1):e._e()],1)],1),a("q-btn",{staticClass:"full-width q-mt-md",attrs:{color:"teal",icon:"keyboard_backspace"},on:{click:function(t){return e.$router.push({name:"home"})}}})],1)},ve=[],be=a("497d"),qe={name:"DetailsPage",components:{Quasar:q["a"],QCard:y["a"],QCardSection:E["a"],QImg:se["a"],QList:be["a"]},props:{dogProp:{type:Object,required:!0}},data:function(){return{dog:{}}},mounted:function(){var e=this;if(this.dogProp)this.dog=this.dogProp;else{var t=this.$route.params.id;D.db.doc("dogs/".concat(t)).get().then(function(t){t.exists?e.dog=t.data():console.log("no document found")}).catch(function(e){console.log("error getting document",e)})}}},ye=qe,we=Object(i["a"])(ye,he,ve,!1,null,null,null),_e=we.exports;n["a"].use(d["a"]);var Ce=new d["a"]({routes:[{path:"/",component:h,children:[{path:"",name:"home",component:K},{path:"/details/:id",name:"details",props:!0,component:_e},{path:"/post",name:"post",props:!0,component:ge},{path:"/about",name:"about",component:ae}]}]}),Qe=a("9483");Object(Qe["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});a("a4ac"),a("7d6e"),a("e54f");var ke=a("4d5a"),Se=a("9898"),Oe=a("f2cc"),xe=a("c7a0"),Me=a("65c6"),Ue=a("6ac5"),De=a("9c40"),Pe=a("0016");n["a"].use(q["a"],{config:{},components:{QLayout:ke["a"],QHeader:Se["a"],QDrawer:Oe["a"],QPageContainer:xe["a"],QPage:k["a"],QToolbar:Me["a"],QToolbarTitle:Ue["a"],QBtn:De["a"],QIcon:Pe["a"],QList:be["a"],QItem:w["a"],QItemSection:_["a"],QItemLabel:Q["a"]},directives:{},plugins:{}}),n["a"].config.productionTip=!1,new n["a"]({router:Ce,store:z,render:function(e){return e(l)}}).$mount("#app")},"67b8":function(e,t,a){"use strict";var n=a("f273"),r=a.n(n);r.a},"718c":function(e,t,a){"use strict";var n=a("ce43"),r=a.n(n);r.a},a4ac:function(e,t,a){},ce43:function(e,t,a){},f273:function(e,t,a){}});
//# sourceMappingURL=app.75c12ce6.js.map